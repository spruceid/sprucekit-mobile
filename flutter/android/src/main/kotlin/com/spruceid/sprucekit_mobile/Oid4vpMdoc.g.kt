// Autogenerated from Pigeon (v26.1.4), do not edit directly.
// See also: https://pub.dev/packages/pigeon
@file:Suppress("UNCHECKED_CAST", "ArrayInDataClass")

package com.spruceid.sprucekit_mobile

import android.util.Log
import io.flutter.plugin.common.BasicMessageChannel
import io.flutter.plugin.common.BinaryMessenger
import io.flutter.plugin.common.EventChannel
import io.flutter.plugin.common.MessageCodec
import io.flutter.plugin.common.StandardMethodCodec
import io.flutter.plugin.common.StandardMessageCodec
import java.io.ByteArrayOutputStream
import java.nio.ByteBuffer
private object Oid4vpMdocPigeonUtils {

  fun wrapResult(result: Any?): List<Any?> {
    return listOf(result)
  }

  fun wrapError(exception: Throwable): List<Any?> {
    return if (exception is Oid4vpMdocFlutterError) {
      listOf(
        exception.code,
        exception.message,
        exception.details
      )
    } else {
      listOf(
        exception.javaClass.simpleName,
        exception.toString(),
        "Cause: " + exception.cause + ", Stacktrace: " + Log.getStackTraceString(exception)
      )
    }
  }
  fun deepEquals(a: Any?, b: Any?): Boolean {
    if (a is ByteArray && b is ByteArray) {
        return a.contentEquals(b)
    }
    if (a is IntArray && b is IntArray) {
        return a.contentEquals(b)
    }
    if (a is LongArray && b is LongArray) {
        return a.contentEquals(b)
    }
    if (a is DoubleArray && b is DoubleArray) {
        return a.contentEquals(b)
    }
    if (a is Array<*> && b is Array<*>) {
      return a.size == b.size &&
          a.indices.all{ deepEquals(a[it], b[it]) }
    }
    if (a is List<*> && b is List<*>) {
      return a.size == b.size &&
          a.indices.all{ deepEquals(a[it], b[it]) }
    }
    if (a is Map<*, *> && b is Map<*, *>) {
      return a.size == b.size && a.all {
          (b as Map<Any?, Any?>).contains(it.key) &&
          deepEquals(it.value, b[it.key])
      }
    }
    return a == b
  }
      
}

/**
 * Error class for passing custom error details to Flutter via a thrown PlatformException.
 * @property code The error code.
 * @property message The error message.
 * @property details The error details. Must be a datatype supported by the api codec.
 */
class Oid4vpMdocFlutterError (
  val code: String,
  override val message: String? = null,
  val details: Any? = null
) : Throwable()

/**
 * A field requested by the verifier for mDoc presentation
 *
 * Generated class from Pigeon that represents data sent in messages.
 */
data class RequestedField180137Data (
  /** Field identifier (namespace + element name) */
  val id: String,
  /** Human-readable display name */
  val displayableName: String,
  /** Current value of the field (if available) */
  val displayableValue: String? = null,
  /** Whether this field can be selectively disclosed */
  val selectivelyDisclosable: Boolean,
  /** Whether the verifier intends to retain this data */
  val intentToRetain: Boolean,
  /** Whether this field is required by the verifier */
  val required: Boolean,
  /** Purpose description for requesting this field */
  val purpose: String? = null
)
 {
  companion object {
    fun fromList(pigeonVar_list: List<Any?>): RequestedField180137Data {
      val id = pigeonVar_list[0] as String
      val displayableName = pigeonVar_list[1] as String
      val displayableValue = pigeonVar_list[2] as String?
      val selectivelyDisclosable = pigeonVar_list[3] as Boolean
      val intentToRetain = pigeonVar_list[4] as Boolean
      val required = pigeonVar_list[5] as Boolean
      val purpose = pigeonVar_list[6] as String?
      return RequestedField180137Data(id, displayableName, displayableValue, selectivelyDisclosable, intentToRetain, required, purpose)
    }
  }
  fun toList(): List<Any?> {
    return listOf(
      id,
      displayableName,
      displayableValue,
      selectivelyDisclosable,
      intentToRetain,
      required,
      purpose,
    )
  }
  override fun equals(other: Any?): Boolean {
    if (other !is RequestedField180137Data) {
      return false
    }
    if (this === other) {
      return true
    }
    return Oid4vpMdocPigeonUtils.deepEquals(toList(), other.toList())  }

  override fun hashCode(): Int = toList().hashCode()
}

/**
 * A matching credential for the OID4VP request
 *
 * Generated class from Pigeon that represents data sent in messages.
 */
data class RequestMatch180137Data (
  /** Index in the matches list */
  val index: Long,
  /** Credential ID (UUID as string) */
  val credentialId: String,
  /** Fields requested for this credential */
  val requestedFields: List<RequestedField180137Data>
)
 {
  companion object {
    fun fromList(pigeonVar_list: List<Any?>): RequestMatch180137Data {
      val index = pigeonVar_list[0] as Long
      val credentialId = pigeonVar_list[1] as String
      val requestedFields = pigeonVar_list[2] as List<RequestedField180137Data>
      return RequestMatch180137Data(index, credentialId, requestedFields)
    }
  }
  fun toList(): List<Any?> {
    return listOf(
      index,
      credentialId,
      requestedFields,
    )
  }
  override fun equals(other: Any?): Boolean {
    if (other !is RequestMatch180137Data) {
      return false
    }
    if (this === other) {
      return true
    }
    return Oid4vpMdocPigeonUtils.deepEquals(toList(), other.toList())  }

  override fun hashCode(): Int = toList().hashCode()
}

/**
 * Information about the OID4VP request
 *
 * Generated class from Pigeon that represents data sent in messages.
 */
data class Oid4vpMdocRequestInfo (
  /** Name of the verifier requesting the credential */
  val requestedBy: String? = null,
  /** List of matching credentials */
  val matches: List<RequestMatch180137Data>
)
 {
  companion object {
    fun fromList(pigeonVar_list: List<Any?>): Oid4vpMdocRequestInfo {
      val requestedBy = pigeonVar_list[0] as String?
      val matches = pigeonVar_list[1] as List<RequestMatch180137Data>
      return Oid4vpMdocRequestInfo(requestedBy, matches)
    }
  }
  fun toList(): List<Any?> {
    return listOf(
      requestedBy,
      matches,
    )
  }
  override fun equals(other: Any?): Boolean {
    if (other !is Oid4vpMdocRequestInfo) {
      return false
    }
    if (this === other) {
      return true
    }
    return Oid4vpMdocPigeonUtils.deepEquals(toList(), other.toList())  }

  override fun hashCode(): Int = toList().hashCode()
}

/**
 * Result of OID4VP mDoc operations
 *
 * Generated class from Pigeon that represents data sent in messages.
 * This class should not be extended by any user class outside of the generated file.
 */
sealed class Oid4vpMdocResult 
/**
 * Operation succeeded
 *
 * Generated class from Pigeon that represents data sent in messages.
 */
data class Oid4vpMdocSuccess (
  val message: String? = null,
  /** Redirect URL (if any) returned after successful presentation */
  val redirectUrl: String? = null
) : Oid4vpMdocResult()
 {
  companion object {
    fun fromList(pigeonVar_list: List<Any?>): Oid4vpMdocSuccess {
      val message = pigeonVar_list[0] as String?
      val redirectUrl = pigeonVar_list[1] as String?
      return Oid4vpMdocSuccess(message, redirectUrl)
    }
  }
  fun toList(): List<Any?> {
    return listOf(
      message,
      redirectUrl,
    )
  }
  override fun equals(other: Any?): Boolean {
    if (other !is Oid4vpMdocSuccess) {
      return false
    }
    if (this === other) {
      return true
    }
    return Oid4vpMdocPigeonUtils.deepEquals(toList(), other.toList())  }

  override fun hashCode(): Int = toList().hashCode()
}

/**
 * Operation failed with error
 *
 * Generated class from Pigeon that represents data sent in messages.
 */
data class Oid4vpMdocError (
  val message: String
) : Oid4vpMdocResult()
 {
  companion object {
    fun fromList(pigeonVar_list: List<Any?>): Oid4vpMdocError {
      val message = pigeonVar_list[0] as String
      return Oid4vpMdocError(message)
    }
  }
  fun toList(): List<Any?> {
    return listOf(
      message,
    )
  }
  override fun equals(other: Any?): Boolean {
    if (other !is Oid4vpMdocError) {
      return false
    }
    if (this === other) {
      return true
    }
    return Oid4vpMdocPigeonUtils.deepEquals(toList(), other.toList())  }

  override fun hashCode(): Int = toList().hashCode()
}

/**
 * Result of processing an authorization request
 *
 * Generated class from Pigeon that represents data sent in messages.
 * This class should not be extended by any user class outside of the generated file.
 */
sealed class ProcessRequestResult 
/**
 * Request processed successfully
 *
 * Generated class from Pigeon that represents data sent in messages.
 */
data class ProcessRequestSuccess (
  val info: Oid4vpMdocRequestInfo
) : ProcessRequestResult()
 {
  companion object {
    fun fromList(pigeonVar_list: List<Any?>): ProcessRequestSuccess {
      val info = pigeonVar_list[0] as Oid4vpMdocRequestInfo
      return ProcessRequestSuccess(info)
    }
  }
  fun toList(): List<Any?> {
    return listOf(
      info,
    )
  }
  override fun equals(other: Any?): Boolean {
    if (other !is ProcessRequestSuccess) {
      return false
    }
    if (this === other) {
      return true
    }
    return Oid4vpMdocPigeonUtils.deepEquals(toList(), other.toList())  }

  override fun hashCode(): Int = toList().hashCode()
}

/**
 * Request processing failed
 *
 * Generated class from Pigeon that represents data sent in messages.
 */
data class ProcessRequestError (
  val message: String
) : ProcessRequestResult()
 {
  companion object {
    fun fromList(pigeonVar_list: List<Any?>): ProcessRequestError {
      val message = pigeonVar_list[0] as String
      return ProcessRequestError(message)
    }
  }
  fun toList(): List<Any?> {
    return listOf(
      message,
    )
  }
  override fun equals(other: Any?): Boolean {
    if (other !is ProcessRequestError) {
      return false
    }
    if (this === other) {
      return true
    }
    return Oid4vpMdocPigeonUtils.deepEquals(toList(), other.toList())  }

  override fun hashCode(): Int = toList().hashCode()
}
private open class Oid4vpMdocPigeonCodec : StandardMessageCodec() {
  override fun readValueOfType(type: Byte, buffer: ByteBuffer): Any? {
    return when (type) {
      129.toByte() -> {
        return (readValue(buffer) as? List<Any?>)?.let {
          RequestedField180137Data.fromList(it)
        }
      }
      130.toByte() -> {
        return (readValue(buffer) as? List<Any?>)?.let {
          RequestMatch180137Data.fromList(it)
        }
      }
      131.toByte() -> {
        return (readValue(buffer) as? List<Any?>)?.let {
          Oid4vpMdocRequestInfo.fromList(it)
        }
      }
      132.toByte() -> {
        return (readValue(buffer) as? List<Any?>)?.let {
          Oid4vpMdocSuccess.fromList(it)
        }
      }
      133.toByte() -> {
        return (readValue(buffer) as? List<Any?>)?.let {
          Oid4vpMdocError.fromList(it)
        }
      }
      134.toByte() -> {
        return (readValue(buffer) as? List<Any?>)?.let {
          ProcessRequestSuccess.fromList(it)
        }
      }
      135.toByte() -> {
        return (readValue(buffer) as? List<Any?>)?.let {
          ProcessRequestError.fromList(it)
        }
      }
      else -> super.readValueOfType(type, buffer)
    }
  }
  override fun writeValue(stream: ByteArrayOutputStream, value: Any?)   {
    when (value) {
      is RequestedField180137Data -> {
        stream.write(129)
        writeValue(stream, value.toList())
      }
      is RequestMatch180137Data -> {
        stream.write(130)
        writeValue(stream, value.toList())
      }
      is Oid4vpMdocRequestInfo -> {
        stream.write(131)
        writeValue(stream, value.toList())
      }
      is Oid4vpMdocSuccess -> {
        stream.write(132)
        writeValue(stream, value.toList())
      }
      is Oid4vpMdocError -> {
        stream.write(133)
        writeValue(stream, value.toList())
      }
      is ProcessRequestSuccess -> {
        stream.write(134)
        writeValue(stream, value.toList())
      }
      is ProcessRequestError -> {
        stream.write(135)
        writeValue(stream, value.toList())
      }
      else -> super.writeValue(stream, value)
    }
  }
}


/**
 * OID4VP mDoc presentation API (ISO 18013-7)
 *
 * Handles OpenID for Verifiable Presentation with mDoc credentials
 * using the mdoc-openid4vp:// URI scheme
 *
 * Generated interface from Pigeon that represents a handler of messages from Flutter.
 */
interface Oid4vpMdoc {
  /**
   * Initialize the handler with mDoc credentials from credential packs
   *
   * @param credentialPackIds List of credential pack IDs containing mDocs
   * @return Result indicating success or error
   */
  fun initialize(credentialPackIds: List<String>, callback: (Result<Oid4vpMdocResult>) -> Unit)
  /**
   * Process an authorization request URL
   *
   * @param url The authorization request URL (mdoc-openid4vp://...)
   * @return ProcessRequestResult with matching credentials on success
   */
  fun processRequest(url: String, callback: (Result<ProcessRequestResult>) -> Unit)
  /**
   * Submit the presentation response
   *
   * @param matchIndex Index of the selected credential match
   * @param approvedFieldIds List of approved field IDs to share
   * @return Result with redirect URL on success
   */
  fun submitResponse(matchIndex: Long, approvedFieldIds: List<String>, callback: (Result<Oid4vpMdocResult>) -> Unit)
  /** Cancel and cleanup the current session */
  fun cancel()

  companion object {
    /** The codec used by Oid4vpMdoc. */
    val codec: MessageCodec<Any?> by lazy {
      Oid4vpMdocPigeonCodec()
    }
    /** Sets up an instance of `Oid4vpMdoc` to handle messages through the `binaryMessenger`. */
    @JvmOverloads
    fun setUp(binaryMessenger: BinaryMessenger, api: Oid4vpMdoc?, messageChannelSuffix: String = "") {
      val separatedMessageChannelSuffix = if (messageChannelSuffix.isNotEmpty()) ".$messageChannelSuffix" else ""
      run {
        val channel = BasicMessageChannel<Any?>(binaryMessenger, "dev.flutter.pigeon.sprucekit_mobile.Oid4vpMdoc.initialize$separatedMessageChannelSuffix", codec)
        if (api != null) {
          channel.setMessageHandler { message, reply ->
            val args = message as List<Any?>
            val credentialPackIdsArg = args[0] as List<String>
            api.initialize(credentialPackIdsArg) { result: Result<Oid4vpMdocResult> ->
              val error = result.exceptionOrNull()
              if (error != null) {
                reply.reply(Oid4vpMdocPigeonUtils.wrapError(error))
              } else {
                val data = result.getOrNull()
                reply.reply(Oid4vpMdocPigeonUtils.wrapResult(data))
              }
            }
          }
        } else {
          channel.setMessageHandler(null)
        }
      }
      run {
        val channel = BasicMessageChannel<Any?>(binaryMessenger, "dev.flutter.pigeon.sprucekit_mobile.Oid4vpMdoc.processRequest$separatedMessageChannelSuffix", codec)
        if (api != null) {
          channel.setMessageHandler { message, reply ->
            val args = message as List<Any?>
            val urlArg = args[0] as String
            api.processRequest(urlArg) { result: Result<ProcessRequestResult> ->
              val error = result.exceptionOrNull()
              if (error != null) {
                reply.reply(Oid4vpMdocPigeonUtils.wrapError(error))
              } else {
                val data = result.getOrNull()
                reply.reply(Oid4vpMdocPigeonUtils.wrapResult(data))
              }
            }
          }
        } else {
          channel.setMessageHandler(null)
        }
      }
      run {
        val channel = BasicMessageChannel<Any?>(binaryMessenger, "dev.flutter.pigeon.sprucekit_mobile.Oid4vpMdoc.submitResponse$separatedMessageChannelSuffix", codec)
        if (api != null) {
          channel.setMessageHandler { message, reply ->
            val args = message as List<Any?>
            val matchIndexArg = args[0] as Long
            val approvedFieldIdsArg = args[1] as List<String>
            api.submitResponse(matchIndexArg, approvedFieldIdsArg) { result: Result<Oid4vpMdocResult> ->
              val error = result.exceptionOrNull()
              if (error != null) {
                reply.reply(Oid4vpMdocPigeonUtils.wrapError(error))
              } else {
                val data = result.getOrNull()
                reply.reply(Oid4vpMdocPigeonUtils.wrapResult(data))
              }
            }
          }
        } else {
          channel.setMessageHandler(null)
        }
      }
      run {
        val channel = BasicMessageChannel<Any?>(binaryMessenger, "dev.flutter.pigeon.sprucekit_mobile.Oid4vpMdoc.cancel$separatedMessageChannelSuffix", codec)
        if (api != null) {
          channel.setMessageHandler { _, reply ->
            val wrapped: List<Any?> = try {
              api.cancel()
              listOf(null)
            } catch (exception: Throwable) {
              Oid4vpMdocPigeonUtils.wrapError(exception)
            }
            reply.reply(wrapped)
          }
        } else {
          channel.setMessageHandler(null)
        }
      }
    }
  }
}
